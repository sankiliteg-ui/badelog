<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TUGGU KA DIL KA NOTES</title>
    <link rel="stylesheet" href="news.css" />
    <style>
      /* overlay + button styling */
      .play-overlay {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.7));
        z-index: 9999;
      }
      .play-btn {
        background: linear-gradient(90deg,#ff7ab6,#ffd166);
        border-radius: 14px;
        padding: 16px 20px;
        font-weight: 800;
        color: #2a0040;
        font-size: 16px;
        box-shadow: 0 8px 26px rgba(0,0,0,0.5);
        cursor: pointer;
        display:flex;
        gap:10px;
        align-items:center;
        border: none;
      }
      .play-icon {
        width: 16px;height:16px;border-radius:3px;background:rgba(0,0,0,0.08);
        display:inline-block; transform: translateX(2px);
        clip-path: polygon(0 0, 100% 50%, 0 100%);
      }
    </style>
  </head>
  <body>
    <main class="page">
      <header class="page-head">
        <h1>TUGGU KA DIL KA NOTESğŸ˜</h1>
        <p class="sub">BADE LOGğŸ˜</p>
      </header>

      <section class="animation-box">
        <div class="first-text">
          Arre <strong>BABU</strong>, jab tu hoti hai â€” sab kuch sahi lagta hai.
        </div>
        <div class="second-text">
          BHAI, tu meri favourite drama queen â€” aur main tera favourite pagal.
        </div>
        <div class="third-text">
          Bhai, tu badal gayi... mujhse baat nahi karti â€” darr lagta hai, pyaar mein pagal na jaaye!
        </div>
        <div class="fourth-text">
          ANNU â€” tu famous ho gayi toh main tera autograph leke rakhoonga ğŸ¥²
        </div>
        <div class="fifth-text">
          P.S. Teri woh hasi â€” VIP pass hai mere dil ka.
        </div>
      </section>

      <footer class="foot">
        <small>ek choti si masti â€” from BABU KI LIYE</small>
      </footer>
    </main>

    <!-- Overlay for Android / mobile: user tap se voice start -->
    <div id="playOverlay" class="play-overlay" aria-hidden="false">
      <button id="playButton" class="play-btn" aria-label="Play message">
        <span class="play-icon" aria-hidden="true"></span>
        <span>Tap here to listen ğŸ§</span>
      </button>
    </div>

    <script>
      let preferredVoice = null;

      function pickVoice() {
        if (!("speechSynthesis" in window)) return;

        const voices = window.speechSynthesis.getVoices();
        if (!voices || !voices.length) return;

        const priorityList = [
          "Google à¤¹à¤¿à¤¨à¥à¤¦à¥€",
          "Google à¤¹à¤¿à¤‚à¤¦à¥€",
          "Google UK English Female",
          "Microsoft Heera",
          "Microsoft Neerja",
          "Microsoft Swara"
        ];

        preferredVoice =
          voices.find(v => priorityList.includes(v.name)) ||
          voices.find(v => v.lang && (v.lang.toLowerCase().startsWith("en-in") || v.lang.toLowerCase().startsWith("hi-in"))) ||
          voices.find(v => /female|girl|woman/i.test(v.name)) ||
          voices[0];
      }

      if ("speechSynthesis" in window) {
        window.speechSynthesis.onvoiceschanged = pickVoice;
        pickVoice();
      }

      function getLines() {
        const box = document.querySelector(".animation-box");
        if (!box) return [];
        return Array.from(box.children).map(el => el.textContent.trim());
      }

      function speakLines() {
        if (!("speechSynthesis" in window)) {
          alert("Sorry, tumhare browser me text-to-speech support nahi hai.");
          return;
        }

        const lines = getLines();
        if (!lines.length) return;

        window.speechSynthesis.cancel();

        let index = 0;

        function speakNext() {
          if (index >= lines.length) return;

          const utter = new SpeechSynthesisUtterance(lines[index]);
          utter.lang = "en-IN";   // chaho to "hi-IN"
          utter.rate = 0.95;
          utter.pitch = 1.05;

          if (preferredVoice) {
            utter.voice = preferredVoice;
          }

          utter.onend = () => {
            index++;
            speakNext();
          };

          window.speechSynthesis.speak(utter);
        }

        speakNext();
      }

      const overlay = document.getElementById("playOverlay");
      const playBtn = document.getElementById("playButton");

      function startExperience() {
        speakLines();
        overlay.style.display = "none";
        overlay.setAttribute("aria-hidden", "true");
      }

      window.addEventListener("load", () => {
        overlay.style.display = "flex";
        overlay.setAttribute("aria-hidden", "false");
      });

      playBtn.addEventListener("click", startExperience);
    </script>
  </body>
</html>
